//add info popup panel

L.geoJson(districtProjects).addTo(map);

function onEachFeature(feature, layer) {
    layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight,
        click: zoomToFeature
    });
}

geojson = L.geoJson(districtProjects, {
    style: style,
    onEachFeature: onEachFeature
}).addTo(map);


var info = L.control();

info.onAdd = function (map) {
    this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
    this.update();
    return this._div;
};

// method that we will use to update the control based on feature properties passed
info.update = function (props) {
    this._div.innerHTML = '<h4>US Population Density</h4>' +  (props ?
        '<b>' + props.name + '</b><br />' + props.density + ' people / mi<sup>2</sup>'
        : 'Hover over a state');
};

info.addTo(map);






citiesFunded = L.geoJson("data/STIP_SRTS_CITIES_Unfunded.geojson.json", {
     style: style,
     onEachFeature: function(feature, layer){
       layer.on({
         mouseover: highlightFeature,
         mouseout: resetHighlight,
     })
       layer.bindPopup('<b>City: </b>' + feature.properties.City + '<br>' +
       "<b> TTL FUNDED: </b> " + feature.properties.TTLFUNDED + '<br>' +
       "<b> TTL UNFUNDED: </b> " + feature.properties.TTLUNFUND + '<br>' +
       )
     }
   })






var checkboxesJson = {
    "layer1": citiesFunded,
    "layer2": citiesUnfunded
};
L.control.layers(null,checkboxesJson).addTo(map);



                

                    
function onEachFeature(feature, layer) {
   var popupContent = "<p>PROJECTS</p>"; layer.bindPopup('<h1>'+feature.properties.MCD_NAME+'</h1><p>TTL FUNDED: '+feature.properties.TTLFUNDED+'</p>').zIndex = 1000;
   
    layer.bindPopup(popupContent);
}  

    